{"version":3,"file":"DebouncedInput-c9a27793.js","sources":["../../src/form/Input/DebouncedInput/DebouncedInput.tsx"],"sourcesContent":["import React, { FC, forwardRef, Ref, useEffect, useRef, useState } from 'react';\nimport { Input, InputProps, InputRef } from '../Input';\n\nexport interface DebouncedInputProps extends InputProps {\n  /**\n   * The debounce time in milliseconds. Defaults to 100.\n   */\n  debounce?: number;\n}\n\nexport const DebouncedInput: FC<DebouncedInputProps> = forwardRef(\n  (\n    { debounce, value, onChange, onValueChange, ...rest },\n    ref: Ref<InputRef>\n  ) => {\n    // eslint-disable-next-line no-undef\n    const timeoutRef = useRef<NodeJS.Timeout | null>(null);\n    const [internalValue, setInternalValue] = useState<\n      string | number | readonly string[]\n    >(value);\n\n    useEffect(() => {\n      setInternalValue(value);\n    }, [value]);\n\n    return (\n      <Input\n        {...rest}\n        ref={ref}\n        value={internalValue}\n        onKeyDown={(event: any) => {\n          // if user hits enter, no need to debounce\n          if (event.key === 'Enter') {\n            onValueChange?.(event.target.value);\n            onChange?.(event as any);\n          }\n        }}\n        onChange={event => {\n          setInternalValue(event.target.value);\n\n          if (debounce) {\n            clearTimeout(timeoutRef.current);\n            timeoutRef.current = setTimeout(() => {\n              onValueChange?.(event.target.value);\n              onChange?.(event);\n            }, debounce);\n          } else {\n            onValueChange?.(event.target.value);\n            onChange?.(event);\n          }\n        }}\n      />\n    );\n  }\n);\n\nDebouncedInput.defaultProps = {\n  debounce: 100\n};\n"],"names":["DebouncedInput","forwardRef","debounce","value","onChange","onValueChange","rest","ref","timeoutRef","useRef","internalValue","setInternalValue","useState","useEffect","jsx","Input","event"],"mappings":"8HAUO,MAAAA,EAAAC,EAAA,WAAgD,CAAA,CAAA,SAAAC,EAAA,MAAAC,EAAA,SAAAC,EAAA,cAAAC,EAAA,GAAAC,CAAA,EAAAC,IAAA,CAMnD,MAAAC,EAAAC,SAAA,IAAA,EACA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAAT,CAAA,EAIAU,OAAAA,EAAAA,UAAA,IAAA,CACEF,EAAAR,CAAA,CAAsB,EAAA,CAAAA,CAAA,CAAA,EAGxBW,EAAA,IACEC,EAAC,CAAA,GAAAT,EACK,IAAAC,EACJ,MAAAG,EACO,UAAAM,GAAA,CAGLA,EAAA,MAAA,UACEX,GAAA,MAAAA,EAAAW,EAAA,OAAA,OACAZ,GAAA,MAAAA,EAAAY,GACF,EACF,SAAAA,GAAA,CAEEL,EAAAK,EAAA,OAAA,KAAA,EAEAd,GACE,aAAAM,EAAA,OAAA,EACAA,EAAA,QAAA,WAAA,IAAA,CACEH,GAAA,MAAAA,EAAAW,EAAA,OAAA,OACAZ,GAAA,MAAAA,EAAAY,EAAgB,EAAAd,CAAA,IAGlBG,GAAA,MAAAA,EAAAW,EAAA,OAAA,OACAZ,GAAA,MAAAA,EAAAY,GACF,CACF,CAAA,CACF,CAGN,EAEAhB,EAAA,aAAA,CAA8B,SAAA,GAE9B"}