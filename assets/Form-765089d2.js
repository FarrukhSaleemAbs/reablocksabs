import{j as x}from"./jsx-runtime-9c4ae004.js";import"./chunk-S4VUQJ4A-9d1244f5.js";import{M as wt}from"./index-02959eb3.js";import{I as Xe}from"./Input-c133f965.js";import"./InlineInput-40d8930e.js";import"./DebouncedInput-c9a27793.js";import{a as St}from"./Button-de41aa90.js";import"./ButtonGroup-fb133ea9.js";import{C as Dt}from"./Card-8ea02f24.js";import{B as Ke}from"./Block-c5a55fe8.js";import{R as D}from"./index-1b03fe98.js";import{u as it}from"./index-2ef8b458.js";import"./iframe-fe8dba03.js";import"../sb-preview/runtime.js";import"./react-18-5df836b6.js";import"./index-6fd5a17b.js";import"./chunk-6P7RB4HF-36fee097.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./extends-98964cd2.js";import"./index-a9f1da4e.js";import"./isFunction-2d8a1518.js";import"./isSymbol-4e2c7bff.js";import"./index-356e4a49.js";import"./index-91038615.js";import"./index-f6b105ee.js";import"./motion-a93435c4.js";var le=e=>e.type==="checkbox",se=e=>e instanceof Date,T=e=>e==null;const nt=e=>typeof e=="object";var O=e=>!T(e)&&!Array.isArray(e)&&nt(e)&&!se(e),ot=e=>O(e)&&e.target?le(e.target)?e.target.checked:e.target.value:e,kt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,ut=(e,i)=>e.has(kt(i)),Et=e=>{const i=e.constructor&&e.constructor.prototype;return O(i)&&i.hasOwnProperty("isPrototypeOf")},Ce=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function N(e){let i;const r=Array.isArray(e);if(e instanceof Date)i=new Date(e);else if(e instanceof Set)i=new Set(e);else if(!(Ce&&(e instanceof Blob||e instanceof FileList))&&(r||O(e)))if(i=r?[]:{},!r&&!Et(e))i=e;else for(const s in e)e.hasOwnProperty(s)&&(i[s]=N(e[s]));else return e;return i}var ae=e=>Array.isArray(e)?e.filter(Boolean):[],C=e=>e===void 0,f=(e,i,r)=>{if(!i||!O(e))return r;const s=ae(i.split(/[,[\].]+?/)).reduce((n,l)=>T(n)?n:n[l],e);return C(s)||s===e?C(e[i])?r:e[i]:s},z=e=>typeof e=="boolean";const ye={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},P={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},G={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ct=D.createContext(null),Oe=()=>D.useContext(Ct);var lt=(e,i,r,s=!0)=>{const n={defaultValues:i._defaultValues};for(const l in e)Object.defineProperty(n,l,{get:()=>{const d=l;return i._proxyFormState[d]!==P.all&&(i._proxyFormState[d]=!s||P.all),r&&(r[d]=!0),e[d]}});return n},U=e=>O(e)&&!Object.keys(e).length,at=(e,i,r,s)=>{r(e);const{name:n,...l}=e;return U(l)||Object.keys(l).length>=Object.keys(i).length||Object.keys(l).find(d=>i[d]===(!s||P.all))},fe=e=>Array.isArray(e)?e:[e],ct=(e,i,r)=>!e||!i||e===i||fe(e).some(s=>s&&(r?s===i:s.startsWith(i)||i.startsWith(s)));function je(e){const i=D.useRef(e);i.current=e,D.useEffect(()=>{const r=!e.disabled&&i.current.subject&&i.current.subject.subscribe({next:i.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function Ot(e){const i=Oe(),{control:r=i.control,disabled:s,name:n,exact:l}=e||{},[d,_]=D.useState(r._formState),m=D.useRef(!0),w=D.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),A=D.useRef(n);return A.current=n,je({disabled:s,next:V=>m.current&&ct(A.current,V.name,l)&&at(V,w.current,r._updateFormState)&&_({...r._formState,...V}),subject:r._subjects.state}),D.useEffect(()=>(m.current=!0,w.current.isValid&&r._updateValid(!0),()=>{m.current=!1}),[r]),lt(d,r,w.current,!1)}var $=e=>typeof e=="string",ft=(e,i,r,s,n)=>$(e)?(s&&i.watch.add(e),f(r,e,n)):Array.isArray(e)?e.map(l=>(s&&i.watch.add(l),f(r,l))):(s&&(i.watchAll=!0),r);function jt(e){const i=Oe(),{control:r=i.control,name:s,defaultValue:n,disabled:l,exact:d}=e||{},_=D.useRef(s);_.current=s,je({disabled:l,subject:r._subjects.values,next:A=>{ct(_.current,A.name,d)&&w(N(ft(_.current,r._names,A.values||r._formValues,!1,n)))}});const[m,w]=D.useState(r._getWatch(s,n));return D.useEffect(()=>r._removeUnmounted()),m}var Le=e=>/^\w*$/.test(e),dt=e=>ae(e.replace(/["|']|\]/g,"").split(/\.|\[/));function F(e,i,r){let s=-1;const n=Le(i)?[i]:dt(i),l=n.length,d=l-1;for(;++s<l;){const _=n[s];let m=r;if(s!==d){const w=e[_];m=O(w)||Array.isArray(w)?w:isNaN(+n[s+1])?{}:[]}e[_]=m,e=e[_]}return e}function Lt(e){const i=Oe(),{name:r,disabled:s,control:n=i.control,shouldUnregister:l}=e,d=ut(n._names.array,r),_=jt({control:n,name:r,defaultValue:f(n._formValues,r,f(n._defaultValues,r,e.defaultValue)),exact:!0}),m=Ot({control:n,name:r}),w=D.useRef(n.register(r,{...e.rules,value:_}));return w.current=n.register(r,e.rules),D.useEffect(()=>{const A=n._options.shouldUnregister||l,V=(g,q)=>{const R=f(n._fields,g);R&&(R._f.mount=q)};if(V(r,!0),A){const g=N(f(n._options.defaultValues,r));F(n._defaultValues,r,g),C(f(n._formValues,r))&&F(n._formValues,r,g)}return()=>{(d?A&&!n._state.action:A)?n.unregister(r):V(r,!1)}},[r,n,d,l]),D.useEffect(()=>{f(n._fields,r)&&n._updateDisabledField({disabled:s,fields:n._fields,name:r})},[s,r,n]),{field:{name:r,value:_,...z(s)?{disabled:s}:{},onChange:D.useCallback(A=>w.current.onChange({target:{value:ot(A),name:r},type:ye.CHANGE}),[r]),onBlur:D.useCallback(()=>w.current.onBlur({target:{value:f(n._formValues,r),name:r},type:ye.BLUR}),[r,n]),ref:A=>{const V=f(n._fields,r);V&&A&&(V._f.ref={focus:()=>A.focus(),select:()=>A.select(),setCustomValidity:g=>A.setCustomValidity(g),reportValidity:()=>A.reportValidity()})}},formState:m,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!f(m.errors,r)},isDirty:{enumerable:!0,get:()=>!!f(m.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!f(m.touchedFields,r)},error:{enumerable:!0,get:()=>f(m.errors,r)}})}}const Ge=e=>e.render(Lt(e));var Rt=(e,i,r,s,n)=>i?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:n||!0}}:{};const Ee=(e,i,r)=>{for(const s of r||Object.keys(e)){const n=f(e,s);if(n){const{_f:l,...d}=n;if(l&&i(l.name)){if(l.ref.focus){l.ref.focus();break}else if(l.refs&&l.refs[0].focus){l.refs[0].focus();break}}else O(d)&&Ee(d,i)}}};var ze=e=>({isOnSubmit:!e||e===P.onSubmit,isOnBlur:e===P.onBlur,isOnChange:e===P.onChange,isOnAll:e===P.all,isOnTouch:e===P.onTouched}),Je=(e,i,r)=>!r&&(i.watchAll||i.watch.has(e)||[...i.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length)))),Tt=(e,i,r)=>{const s=ae(f(e,r));return F(s,"root",i[r]),F(e,r,s),e},Re=e=>e.type==="file",J=e=>typeof e=="function",he=e=>{if(!Ce)return!1;const i=e?e.ownerDocument:0;return e instanceof(i&&i.defaultView?i.defaultView.HTMLElement:HTMLElement)},de=e=>$(e),Te=e=>e.type==="radio",me=e=>e instanceof RegExp;const Qe={value:!1,isValid:!1},Ye={value:!0,isValid:!0};var yt=e=>{if(Array.isArray(e)){if(e.length>1){const i=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:i,isValid:!!i.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!C(e[0].attributes.value)?C(e[0].value)||e[0].value===""?Ye:{value:e[0].value,isValid:!0}:Ye:Qe}return Qe};const Ze={isValid:!1,value:null};var ht=e=>Array.isArray(e)?e.reduce((i,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:i,Ze):Ze;function et(e,i,r="validate"){if(de(e)||Array.isArray(e)&&e.every(de)||z(e)&&!e)return{type:r,message:de(e)?e:"",ref:i}}var re=e=>O(e)&&!me(e)?e:{value:e,message:""},tt=async(e,i,r,s,n)=>{const{ref:l,refs:d,required:_,maxLength:m,minLength:w,min:A,max:V,pattern:g,validate:q,name:R,valueAsNumber:_e,mount:ce,disabled:be}=e._f,v=f(i,R);if(!ce||be)return{};const I=d?d[0]:l,X=p=>{s&&I.reportValidity&&(I.setCustomValidity(z(p)?"":p||""),I.reportValidity())},j={},ie=Te(l),ee=le(l),xe=ie||ee,W=(_e||Re(l))&&C(l.value)&&C(v)||he(l)&&l.value===""||v===""||Array.isArray(v)&&!v.length,Q=Rt.bind(null,R,r,j),K=(p,b,k,B=G.maxLength,M=G.minLength)=>{const H=p?b:k;j[R]={type:p?B:M,message:H,ref:l,...Q(p?B:M,H)}};if(n?!Array.isArray(v)||!v.length:_&&(!xe&&(W||T(v))||z(v)&&!v||ee&&!yt(d).isValid||ie&&!ht(d).isValid)){const{value:p,message:b}=de(_)?{value:!!_,message:_}:re(_);if(p&&(j[R]={type:G.required,message:b,ref:I,...Q(G.required,b)},!r))return X(b),j}if(!W&&(!T(A)||!T(V))){let p,b;const k=re(V),B=re(A);if(!T(v)&&!isNaN(v)){const M=l.valueAsNumber||v&&+v;T(k.value)||(p=M>k.value),T(B.value)||(b=M<B.value)}else{const M=l.valueAsDate||new Date(v),H=oe=>new Date(new Date().toDateString()+" "+oe),Y=l.type=="time",ne=l.type=="week";$(k.value)&&v&&(p=Y?H(v)>H(k.value):ne?v>k.value:M>new Date(k.value)),$(B.value)&&v&&(b=Y?H(v)<H(B.value):ne?v<B.value:M<new Date(B.value))}if((p||b)&&(K(!!p,k.message,B.message,G.max,G.min),!r))return X(j[R].message),j}if((m||w)&&!W&&($(v)||n&&Array.isArray(v))){const p=re(m),b=re(w),k=!T(p.value)&&v.length>+p.value,B=!T(b.value)&&v.length<+b.value;if((k||B)&&(K(k,p.message,b.message),!r))return X(j[R].message),j}if(g&&!W&&$(v)){const{value:p,message:b}=re(g);if(me(p)&&!v.match(p)&&(j[R]={type:G.pattern,message:b,ref:l,...Q(G.pattern,b)},!r))return X(b),j}if(q){if(J(q)){const p=await q(v,i),b=et(p,I);if(b&&(j[R]={...b,...Q(G.validate,b.message)},!r))return X(b.message),j}else if(O(q)){let p={};for(const b in q){if(!U(p)&&!r)break;const k=et(await q[b](v,i),I,b);k&&(p={...k,...Q(b,k.message)},X(k.message),r&&(j[R]=p))}if(!U(p)&&(j[R]={ref:I,...p},!r))return j}}return X(!0),j};function Bt(e,i){const r=i.slice(0,-1).length;let s=0;for(;s<r;)e=C(e)?s++:e[i[s++]];return e}function Mt(e){for(const i in e)if(e.hasOwnProperty(i)&&!C(e[i]))return!1;return!0}function L(e,i){const r=Array.isArray(i)?i:Le(i)?[i]:dt(i),s=r.length===1?e:Bt(e,r),n=r.length-1,l=r[n];return s&&delete s[l],n!==0&&(O(s)&&U(s)||Array.isArray(s)&&Mt(s))&&L(e,r.slice(0,-1)),e}function we(){let e=[];return{get observers(){return e},next:n=>{for(const l of e)l.next&&l.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(l=>l!==n)}}),unsubscribe:()=>{e=[]}}}var ge=e=>T(e)||!nt(e);function Z(e,i){if(ge(e)||ge(i))return e===i;if(se(e)&&se(i))return e.getTime()===i.getTime();const r=Object.keys(e),s=Object.keys(i);if(r.length!==s.length)return!1;for(const n of r){const l=e[n];if(!s.includes(n))return!1;if(n!=="ref"){const d=i[n];if(se(l)&&se(d)||O(l)&&O(d)||Array.isArray(l)&&Array.isArray(d)?!Z(l,d):l!==d)return!1}}return!0}var mt=e=>e.type==="select-multiple",Ut=e=>Te(e)||le(e),Se=e=>he(e)&&e.isConnected,gt=e=>{for(const i in e)if(J(e[i]))return!0;return!1};function ve(e,i={}){const r=Array.isArray(e);if(O(e)||r)for(const s in e)Array.isArray(e[s])||O(e[s])&&!gt(e[s])?(i[s]=Array.isArray(e[s])?[]:{},ve(e[s],i[s])):T(e[s])||(i[s]=!0);return i}function vt(e,i,r){const s=Array.isArray(e);if(O(e)||s)for(const n in e)Array.isArray(e[n])||O(e[n])&&!gt(e[n])?C(i)||ge(r[n])?r[n]=Array.isArray(e[n])?ve(e[n],[]):{...ve(e[n])}:vt(e[n],T(i)?{}:i[n],r[n]):r[n]=!Z(e[n],i[n]);return r}var De=(e,i)=>vt(e,i,ve(i)),_t=(e,{valueAsNumber:i,valueAsDate:r,setValueAs:s})=>C(e)?e:i?e===""?NaN:e&&+e:r&&$(e)?new Date(e):s?s(e):e;function ke(e){const i=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):i.disabled))return Re(i)?i.files:Te(i)?ht(e.refs).value:mt(i)?[...i.selectedOptions].map(({value:r})=>r):le(i)?yt(e.refs).value:_t(C(i.value)?e.ref.value:i.value,e)}var It=(e,i,r,s)=>{const n={};for(const l of e){const d=f(i,l);d&&F(n,l,d._f)}return{criteriaMode:r,names:[...e],fields:n,shouldUseNativeValidation:s}},ue=e=>C(e)?e:me(e)?e.source:O(e)?me(e.value)?e.value.source:e.value:e,Nt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function rt(e,i,r){const s=f(e,r);if(s||Le(r))return{error:s,name:r};const n=r.split(".");for(;n.length;){const l=n.join("."),d=f(i,l),_=f(e,l);if(d&&!Array.isArray(d)&&r!==l)return{name:r};if(_&&_.type)return{name:l,error:_};n.pop()}return{name:r}}var Pt=(e,i,r,s,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(i||e):(r?s.isOnBlur:n.isOnBlur)?!e:(r?s.isOnChange:n.isOnChange)?e:!0,qt=(e,i)=>!ae(f(e,i)).length&&L(e,i);const Wt={mode:P.onSubmit,reValidateMode:P.onChange,shouldFocusError:!0};function Ht(e={},i){let r={...Wt,...e},s={submitCount:0,isDirty:!1,isLoading:J(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},n={},l=O(r.defaultValues)||O(r.values)?N(r.defaultValues||r.values)||{}:{},d=r.shouldUnregister?{}:N(l),_={action:!1,mount:!1,watch:!1},m={mount:new Set,unMount:new Set,array:new Set,watch:new Set},w,A=0;const V={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},g={values:we(),array:we(),state:we()},q=e.resetOptions&&e.resetOptions.keepDirtyValues,R=ze(r.mode),_e=ze(r.reValidateMode),ce=r.criteriaMode===P.all,be=t=>o=>{clearTimeout(A),A=setTimeout(t,o)},v=async t=>{if(V.isValid||t){const o=r.resolver?U((await W()).errors):await K(n,!0);o!==s.isValid&&g.state.next({isValid:o})}},I=t=>V.isValidating&&g.state.next({isValidating:t}),X=(t,o=[],u,y,c=!0,a=!0)=>{if(y&&u){if(_.action=!0,a&&Array.isArray(f(n,t))){const h=u(f(n,t),y.argA,y.argB);c&&F(n,t,h)}if(a&&Array.isArray(f(s.errors,t))){const h=u(f(s.errors,t),y.argA,y.argB);c&&F(s.errors,t,h),qt(s.errors,t)}if(V.touchedFields&&a&&Array.isArray(f(s.touchedFields,t))){const h=u(f(s.touchedFields,t),y.argA,y.argB);c&&F(s.touchedFields,t,h)}V.dirtyFields&&(s.dirtyFields=De(l,d)),g.state.next({name:t,isDirty:b(t,o),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else F(d,t,o)},j=(t,o)=>{F(s.errors,t,o),g.state.next({errors:s.errors})},ie=(t,o,u,y)=>{const c=f(n,t);if(c){const a=f(d,t,C(u)?f(l,t):u);C(a)||y&&y.defaultChecked||o?F(d,t,o?a:ke(c._f)):M(t,a),_.mount&&v()}},ee=(t,o,u,y,c)=>{let a=!1,h=!1;const S={name:t};if(!u||y){V.isDirty&&(h=s.isDirty,s.isDirty=S.isDirty=b(),a=h!==S.isDirty);const E=Z(f(l,t),o);h=f(s.dirtyFields,t),E?L(s.dirtyFields,t):F(s.dirtyFields,t,!0),S.dirtyFields=s.dirtyFields,a=a||V.dirtyFields&&h!==!E}if(u){const E=f(s.touchedFields,t);E||(F(s.touchedFields,t,u),S.touchedFields=s.touchedFields,a=a||V.touchedFields&&E!==u)}return a&&c&&g.state.next(S),a?S:{}},xe=(t,o,u,y)=>{const c=f(s.errors,t),a=V.isValid&&z(o)&&s.isValid!==o;if(e.delayError&&u?(w=be(()=>j(t,u)),w(e.delayError)):(clearTimeout(A),w=null,u?F(s.errors,t,u):L(s.errors,t)),(u?!Z(c,u):c)||!U(y)||a){const h={...y,...a&&z(o)?{isValid:o}:{},errors:s.errors,name:t};s={...s,...h},g.state.next(h)}I(!1)},W=async t=>r.resolver(d,r.context,It(t||m.mount,n,r.criteriaMode,r.shouldUseNativeValidation)),Q=async t=>{const{errors:o}=await W(t);if(t)for(const u of t){const y=f(o,u);y?F(s.errors,u,y):L(s.errors,u)}else s.errors=o;return o},K=async(t,o,u={valid:!0})=>{for(const y in t){const c=t[y];if(c){const{_f:a,...h}=c;if(a){const S=m.array.has(a.name),E=await tt(c,d,ce,r.shouldUseNativeValidation&&!o,S);if(E[a.name]&&(u.valid=!1,o))break;!o&&(f(E,a.name)?S?Tt(s.errors,E,a.name):F(s.errors,a.name,E[a.name]):L(s.errors,a.name))}h&&await K(h,o,u)}}return u.valid},p=()=>{for(const t of m.unMount){const o=f(n,t);o&&(o._f.refs?o._f.refs.every(u=>!Se(u)):!Se(o._f.ref))&&pe(t)}m.unMount=new Set},b=(t,o)=>(t&&o&&F(d,t,o),!Z(Be(),l)),k=(t,o,u)=>ft(t,m,{..._.mount?d:C(o)?l:$(t)?{[t]:o}:o},u,o),B=t=>ae(f(_.mount?d:l,t,e.shouldUnregister?f(l,t,[]):[])),M=(t,o,u={})=>{const y=f(n,t);let c=o;if(y){const a=y._f;a&&(!a.disabled&&F(d,t,_t(o,a)),c=he(a.ref)&&T(o)?"":o,mt(a.ref)?[...a.ref.options].forEach(h=>h.selected=c.includes(h.value)):a.refs?le(a.ref)?a.refs.length>1?a.refs.forEach(h=>(!h.defaultChecked||!h.disabled)&&(h.checked=Array.isArray(c)?!!c.find(S=>S===h.value):c===h.value)):a.refs[0]&&(a.refs[0].checked=!!c):a.refs.forEach(h=>h.checked=h.value===c):Re(a.ref)?a.ref.value="":(a.ref.value=c,a.ref.type||g.values.next({name:t,values:{...d}})))}(u.shouldDirty||u.shouldTouch)&&ee(t,c,u.shouldTouch,u.shouldDirty,!0),u.shouldValidate&&oe(t)},H=(t,o,u)=>{for(const y in o){const c=o[y],a=`${t}.${y}`,h=f(n,a);(m.array.has(t)||!ge(c)||h&&!h._f)&&!se(c)?H(a,c,u):M(a,c,u)}},Y=(t,o,u={})=>{const y=f(n,t),c=m.array.has(t),a=N(o);F(d,t,a),c?(g.array.next({name:t,values:{...d}}),(V.isDirty||V.dirtyFields)&&u.shouldDirty&&g.state.next({name:t,dirtyFields:De(l,d),isDirty:b(t,a)})):y&&!y._f&&!T(a)?H(t,a,u):M(t,a,u),Je(t,m)&&g.state.next({...s}),g.values.next({name:t,values:{...d}}),!_.mount&&i()},ne=async t=>{const o=t.target;let u=o.name,y=!0;const c=f(n,u),a=()=>o.type?ke(c._f):ot(t);if(c){let h,S;const E=a(),te=t.type===ye.BLUR||t.type===ye.FOCUS_OUT,Vt=!Nt(c._f)&&!r.resolver&&!f(s.errors,u)&&!c._f.deps||Pt(te,f(s.touchedFields,u),s.isSubmitted,_e,R),Fe=Je(u,m,te);F(d,u,E),te?(c._f.onBlur&&c._f.onBlur(t),w&&w(0)):c._f.onChange&&c._f.onChange(t);const Ae=ee(u,E,te,!1),Ft=!U(Ae)||Fe;if(!te&&g.values.next({name:u,type:t.type,values:{...d}}),Vt)return V.isValid&&v(),Ft&&g.state.next({name:u,...Fe?{}:Ae});if(!te&&Fe&&g.state.next({...s}),I(!0),r.resolver){const{errors:He}=await W([u]),At=rt(s.errors,n,u),$e=rt(He,n,At.name||u);h=$e.error,u=$e.name,S=U(He)}else h=(await tt(c,d,ce,r.shouldUseNativeValidation))[u],y=Number.isNaN(E)||E===f(d,u,E),y&&(h?S=!1:V.isValid&&(S=await K(n,!0)));y&&(c._f.deps&&oe(c._f.deps),xe(u,S,h,Ae))}},oe=async(t,o={})=>{let u,y;const c=fe(t);if(I(!0),r.resolver){const a=await Q(C(t)?t:c);u=U(a),y=t?!c.some(h=>f(a,h)):u}else t?(y=(await Promise.all(c.map(async a=>{const h=f(n,a);return await K(h&&h._f?{[a]:h}:h)}))).every(Boolean),!(!y&&!s.isValid)&&v()):y=u=await K(n);return g.state.next({...!$(t)||V.isValid&&u!==s.isValid?{}:{name:t},...r.resolver||!t?{isValid:u}:{},errors:s.errors,isValidating:!1}),o.shouldFocus&&!y&&Ee(n,a=>a&&f(s.errors,a),t?c:m.mount),y},Be=t=>{const o={...l,..._.mount?d:{}};return C(t)?o:$(t)?f(o,t):t.map(u=>f(o,u))},Me=(t,o)=>({invalid:!!f((o||s).errors,t),isDirty:!!f((o||s).dirtyFields,t),isTouched:!!f((o||s).touchedFields,t),error:f((o||s).errors,t)}),bt=t=>{t&&fe(t).forEach(o=>L(s.errors,o)),g.state.next({errors:t?s.errors:{}})},Ue=(t,o,u)=>{const y=(f(n,t,{_f:{}})._f||{}).ref;F(s.errors,t,{...o,ref:y}),g.state.next({name:t,errors:s.errors,isValid:!1}),u&&u.shouldFocus&&y&&y.focus&&y.focus()},xt=(t,o)=>J(t)?g.values.subscribe({next:u=>t(k(void 0,o),u)}):k(t,o,!0),pe=(t,o={})=>{for(const u of t?fe(t):m.mount)m.mount.delete(u),m.array.delete(u),o.keepValue||(L(n,u),L(d,u)),!o.keepError&&L(s.errors,u),!o.keepDirty&&L(s.dirtyFields,u),!o.keepTouched&&L(s.touchedFields,u),!r.shouldUnregister&&!o.keepDefaultValue&&L(l,u);g.values.next({values:{...d}}),g.state.next({...s,...o.keepDirty?{isDirty:b()}:{}}),!o.keepIsValid&&v()},Ie=({disabled:t,name:o,field:u,fields:y})=>{if(z(t)){const c=t?void 0:f(d,o,ke(u?u._f:f(y,o)._f));F(d,o,c),ee(o,c,!1,!1,!0)}},Ve=(t,o={})=>{let u=f(n,t);const y=z(o.disabled);return F(n,t,{...u||{},_f:{...u&&u._f?u._f:{ref:{name:t}},name:t,mount:!0,...o}}),m.mount.add(t),u?Ie({field:u,disabled:o.disabled,name:t}):ie(t,!0,o.value),{...y?{disabled:o.disabled}:{},...r.progressive?{required:!!o.required,min:ue(o.min),max:ue(o.max),minLength:ue(o.minLength),maxLength:ue(o.maxLength),pattern:ue(o.pattern)}:{},name:t,onChange:ne,onBlur:ne,ref:c=>{if(c){Ve(t,o),u=f(n,t);const a=C(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,h=Ut(a),S=u._f.refs||[];if(h?S.find(E=>E===a):a===u._f.ref)return;F(n,t,{_f:{...u._f,...h?{refs:[...S.filter(Se),a,...Array.isArray(f(l,t))?[{}]:[]],ref:{type:a.type,name:t}}:{ref:a}}}),ie(t,!1,void 0,a)}else u=f(n,t,{}),u._f&&(u._f.mount=!1),(r.shouldUnregister||o.shouldUnregister)&&!(ut(m.array,t)&&_.action)&&m.unMount.add(t)}}},Ne=()=>r.shouldFocusError&&Ee(n,t=>t&&f(s.errors,t),m.mount),Pe=(t,o)=>async u=>{u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let y=N(d);if(g.state.next({isSubmitting:!0}),r.resolver){const{errors:c,values:a}=await W();s.errors=c,y=a}else await K(n);L(s.errors,"root"),U(s.errors)?(g.state.next({errors:{}}),await t(y,u)):(o&&await o({...s.errors},u),Ne(),setTimeout(Ne)),g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:U(s.errors),submitCount:s.submitCount+1,errors:s.errors})},pt=(t,o={})=>{f(n,t)&&(C(o.defaultValue)?Y(t,f(l,t)):(Y(t,o.defaultValue),F(l,t,o.defaultValue)),o.keepTouched||L(s.touchedFields,t),o.keepDirty||(L(s.dirtyFields,t),s.isDirty=o.defaultValue?b(t,f(l,t)):b()),o.keepError||(L(s.errors,t),V.isValid&&v()),g.state.next({...s}))},qe=(t,o={})=>{const u=t?N(t):l,y=N(u),c=t&&!U(t)?y:l;if(o.keepDefaultValues||(l=u),!o.keepValues){if(o.keepDirtyValues||q)for(const a of m.mount)f(s.dirtyFields,a)?F(c,a,f(d,a)):Y(a,f(c,a));else{if(Ce&&C(t))for(const a of m.mount){const h=f(n,a);if(h&&h._f){const S=Array.isArray(h._f.refs)?h._f.refs[0]:h._f.ref;if(he(S)){const E=S.closest("form");if(E){E.reset();break}}}}n={}}d=e.shouldUnregister?o.keepDefaultValues?N(l):{}:N(c),g.array.next({values:{...c}}),g.values.next({values:{...c}})}m={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!_.mount&&i(),_.mount=!V.isValid||!!o.keepIsValid,_.watch=!!e.shouldUnregister,g.state.next({submitCount:o.keepSubmitCount?s.submitCount:0,isDirty:o.keepDirty?s.isDirty:!!(o.keepDefaultValues&&!Z(t,l)),isSubmitted:o.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:o.keepDirtyValues?s.dirtyFields:o.keepDefaultValues&&t?De(l,t):{},touchedFields:o.keepTouched?s.touchedFields:{},errors:o.keepErrors?s.errors:{},isSubmitSuccessful:o.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},We=(t,o)=>qe(J(t)?t(d):t,o);return{control:{register:Ve,unregister:pe,getFieldState:Me,handleSubmit:Pe,setError:Ue,_executeSchema:W,_getWatch:k,_getDirty:b,_updateValid:v,_removeUnmounted:p,_updateFieldArray:X,_updateDisabledField:Ie,_getFieldArray:B,_reset:qe,_resetDefaultValues:()=>J(r.defaultValues)&&r.defaultValues().then(t=>{We(t,r.resetOptions),g.state.next({isLoading:!1})}),_updateFormState:t=>{s={...s,...t}},_subjects:g,_proxyFormState:V,get _fields(){return n},get _formValues(){return d},get _state(){return _},set _state(t){_=t},get _defaultValues(){return l},get _names(){return m},set _names(t){m=t},get _formState(){return s},set _formState(t){s=t},get _options(){return r},set _options(t){r={...r,...t}}},trigger:oe,register:Ve,handleSubmit:Pe,watch:xt,setValue:Y,getValues:Be,reset:We,resetField:pt,clearErrors:bt,unregister:pe,setError:Ue,setFocus:(t,o={})=>{const u=f(n,t),y=u&&u._f;if(y){const c=y.refs?y.refs[0]:y.ref;c.focus&&(c.focus(),o.shouldSelect&&c.select())}},getFieldState:Me}}function $t(e={}){const i=D.useRef(),r=D.useRef(),[s,n]=D.useState({isDirty:!1,isValidating:!1,isLoading:J(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:J(e.defaultValues)?void 0:e.defaultValues});i.current||(i.current={...Ht(e,()=>n(d=>({...d}))),formState:s});const l=i.current.control;return l._options=e,je({subject:l._subjects.state,next:d=>{at(d,l._proxyFormState,l._updateFormState,!0)&&n({...l._formState})}}),D.useEffect(()=>{e.values&&!Z(e.values,r.current)?(l._reset(e.values,l._options.resetOptions),r.current=e.values):l._resetDefaultValues()},[e.values,l]),D.useEffect(()=>{l._state.mount||(l._updateValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),i.current.formState=lt(s,l),i.current}const Xt=()=>{const{control:e,handleSubmit:i,formState:{isSubmitting:r}}=$t();return x.jsx(Dt,{children:x.jsxs("form",{onSubmit:i(s=>console.log("values",s)),children:[x.jsx(Ke,{children:x.jsx(Ge,{name:"email",control:e,render:({field:{value:s,onBlur:n,onChange:l}})=>x.jsx(Xe,{name:"email",disabled:r,placeholder:"Enter your email address...",value:s,type:"email",onChange:l,onBlur:n})})}),x.jsx(Ke,{children:x.jsx(Ge,{name:"password",control:e,render:({field:{value:s,onBlur:n,onChange:l}})=>x.jsx(Xe,{name:"password",disabled:r,placeholder:"Enter your password...",value:s,type:"password",onChange:l,onBlur:n})})}),x.jsx(St,{type:"submit",fullWidth:!0,variant:"filled",color:"primary",disabled:r,children:r?"Logging in...":"Login"})]})})};function st(e){const i=Object.assign({h1:"h1",p:"p",code:"code",pre:"pre",a:"a"},it(),e.components);return x.jsxs(x.Fragment,{children:[x.jsx(wt,{title:"Recipes/Form"}),`
`,x.jsx(i.h1,{id:"forms",children:"Forms"}),`
`,x.jsxs(i.p,{children:["Its recommended that you use a form library like ",x.jsx(i.code,{children:"react-hook-form"}),` to handle form state.
This will allow you to easily validate and submit your form. Below is an example
of how to use `,x.jsx(i.code,{children:"react-hook-form"})," with the Input component."]}),`
`,x.jsx(i.p,{children:"Here is a basic login form example:"}),`
`,x.jsx(Xt,{}),`
`,x.jsxs(i.p,{children:["In order to use the ",x.jsx(i.code,{children:"react-hook-form"})," library, you need to wrap the ",x.jsx(i.code,{children:"Input"}),` in a
`,x.jsx(i.code,{children:"Controller"})," component. Here is an example of how we wrapped the ",x.jsx(i.code,{children:"Input"}),` component
in the `,x.jsx(i.code,{children:"BasicForm"})," example above:"]}),`
`,x.jsx(i.pre,{children:x.jsx(i.code,{className:"language-tsx",children:`import { Input } from '../../src/form/Input';
import { useForm, Controller } from 'react-hook-form';

export const BasicForm = () => {
  const { control, handleSubmit } = useForm();

  return (
    <form onSubmit={handleSubmit(values => console.log('values', values))}>
      <Controller
        name="email"
        control={control}
        render={({ field: { value, onBlur, onChange } }) => (
          <Input
            name="email"
            disabled={isSubmitting}
            placeholder="Enter your email address..."
            value={value}
            type="email"
            onChange={onChange}
            onBlur={onBlur}
          />
        )}
      />
    </Form>
  );
};
`})}),`
`,x.jsxs(i.p,{children:["Mor examples of how to use the ",x.jsx(i.code,{children:"react-hook-form"})," library can be found in the ",x.jsx(i.a,{href:"https://react-hook-form.com/",target:"_blank",rel:"nofollow noopener noreferrer",children:"official documentation"}),"."]})]})}function Vr(e={}){const{wrapper:i}=Object.assign({},it(),e.components);return i?x.jsx(i,Object.assign({},e,{children:x.jsx(st,e)})):st(e)}export{Vr as default};
//# sourceMappingURL=Form-765089d2.js.map
