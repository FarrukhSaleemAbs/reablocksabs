import{j as b}from"./jsx-runtime-9c4ae004.js";import{r as v}from"./index-1b03fe98.js";import{p as z}from"./index-f6b105ee.js";import{c as w}from"./index-91038615.js";var S={};Object.defineProperty(S,"__esModule",{value:!0});var p=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(i[t]=n[t])}return i},f=function(){function i(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,t){return n&&i(e.prototype,n),t&&i(e,t),e}}(),I=v,l=_(I),x=z,a=_(x);function _(i){return i&&i.__esModule?i:{default:i}}function N(i,e){var n={};for(var t in i)e.indexOf(t)>=0||Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t]);return n}function O(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function R(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:i}function j(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}var c={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},P=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],A=function(e){return P.forEach(function(n){return delete e[n]}),e},h=function(e,n){n.style.fontSize=e.fontSize,n.style.fontFamily=e.fontFamily,n.style.fontWeight=e.fontWeight,n.style.fontStyle=e.fontStyle,n.style.letterSpacing=e.letterSpacing,n.style.textTransform=e.textTransform},g=typeof window<"u"&&window.navigator?/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent):!1,y=function(){return g?"_"+Math.random().toString(36).substr(2,12):void 0},d=function(i){j(e,i),f(e,null,[{key:"getDerivedStateFromProps",value:function(t,r){var u=t.id;return u!==r.prevId?{inputId:u||y(),prevId:u}:null}}]);function e(n){O(this,e);var t=R(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return t.inputRef=function(r){t.input=r,typeof t.props.inputRef=="function"&&t.props.inputRef(r)},t.placeHolderSizerRef=function(r){t.placeHolderSizer=r},t.sizerRef=function(r){t.sizer=r},t.state={inputWidth:n.minWidth,inputId:n.id||y(),prevId:n.id},t}return f(e,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(t,r){r.inputWidth!==this.state.inputWidth&&typeof this.props.onAutosize=="function"&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(!(!this.mounted||!window.getComputedStyle)){var t=this.input&&window.getComputedStyle(this.input);t&&(h(t,this.sizer),this.placeHolderSizer&&h(t,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(!(!this.mounted||!this.sizer||typeof this.sizer.scrollWidth>"u")){var t=void 0;this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?t=Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:t=this.sizer.scrollWidth+2;var r=this.props.type==="number"&&this.props.extraWidth===void 0?16:parseInt(this.props.extraWidth)||0;t+=r,t<this.props.minWidth&&(t=this.props.minWidth),t!==this.state.inputWidth&&this.setState({inputWidth:t})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var t=this.props.injectStyles;return g&&t?l.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var t=[this.props.defaultValue,this.props.value,""].reduce(function(s,W){return s??W}),r=p({},this.props.style);r.display||(r.display="inline-block");var u=p({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),o=N(this.props,[]);return A(o),o.className=this.props.inputClassName,o.id=this.state.inputId,o.style=u,l.default.createElement("div",{className:this.props.className,style:r},this.renderStyles(),l.default.createElement("input",p({},o,{ref:this.inputRef})),l.default.createElement("div",{ref:this.sizerRef,style:c},t),this.props.placeholder?l.default.createElement("div",{ref:this.placeHolderSizerRef,style:c},this.props.placeholder):null)}}]),e}(I.Component);d.propTypes={className:a.default.string,defaultValue:a.default.any,extraWidth:a.default.oneOfType([a.default.number,a.default.string]),id:a.default.string,injectStyles:a.default.bool,inputClassName:a.default.string,inputRef:a.default.func,inputStyle:a.default.object,minWidth:a.default.oneOfType([a.default.number,a.default.string]),onAutosize:a.default.func,onChange:a.default.func,placeholder:a.default.string,placeholderIsMinWidth:a.default.bool,style:a.default.object,value:a.default.any};d.defaultProps={minWidth:1,injectStyles:!0};var E=S.default=d;const T="_input_el63h_1",k={input:T},m=v.forwardRef(({inputClassName:i,placeholderIsMinWidth:e=!0,...n},t)=>b.jsx(E,{inputRef:t,inputClassName:w(k.input,i),placeholderIsMinWidth:e,...n}));try{m.displayName="InlineInput",m.__docgenInfo={description:"",displayName:"InlineInput",props:{className:{defaultValue:null,description:"Additional className for the input container",name:"className",required:!1,type:{name:"string"}},extraWidth:{defaultValue:null,description:"Additional width for input element",name:"extraWidth",required:!1,type:{name:"string | number"}},inputClassName:{defaultValue:null,description:"Additional className for the input element",name:"inputClassName",required:!1,type:{name:"string"}},placeholderIsMinWidth:{defaultValue:{value:"true"},description:"Don't collapse size to less than the placeholder",name:"placeholderIsMinWidth",required:!1,type:{name:"boolean"}},onAutosize:{defaultValue:null,description:"onAutosize handler",name:"onAutosize",required:!1,type:{name:"(newWidth: number) => void"}}}}}catch{}export{m as I};
//# sourceMappingURL=InlineInput-40d8930e.js.map
