{"version":3,"file":"Input-c133f965.js","sources":["../../src/form/Input/Input.tsx"],"sourcesContent":["import React, {\n  forwardRef,\n  RefObject,\n  useImperativeHandle,\n  useLayoutEffect,\n  useRef\n} from 'react';\nimport classNames from 'classnames';\nimport css from './Input.module.css';\n\nexport interface InputProps\n  extends Omit<React.InputHTMLAttributes<HTMLInputElement>, 'size'> {\n  /**\n   * If true, the input will take up the full width of its container.\n   */\n  fullWidth?: boolean;\n\n  /**\n   * If true, the input will be focused during the first mount.\n   */\n  selectOnFocus?: boolean;\n\n  /**\n   * If true, the input will show an error state.\n   */\n  error?: boolean;\n\n  /**\n   * Additional classname for the input container element.\n   */\n  containerClassname?: string;\n\n  /**\n   * Size of the input.\n   */\n  size?: 'small' | 'medium' | 'large';\n\n  /**\n   * Content to display before the input.\n   */\n  start?: React.ReactNode | string;\n\n  /**\n   * Content to display after the input.\n   */\n  end?: React.ReactNode | string;\n\n  /**\n   * Shortcut for the onChange value event.\n   */\n  onValueChange?: (value: string) => void;\n}\n\nexport interface InputRef {\n  inputRef: RefObject<HTMLInputElement>;\n  containerRef: RefObject<HTMLDivElement>;\n  blur?: () => void;\n  focus?: () => void;\n}\n\nexport const Input = forwardRef<InputRef, InputProps>(\n  (\n    {\n      className,\n      containerClassname,\n      error,\n      fullWidth,\n      selectOnFocus,\n      start,\n      end,\n      autoFocus,\n      disabled,\n      value,\n      size,\n      onFocus,\n      onChange,\n      onValueChange,\n      ...rest\n    },\n    ref\n  ) => {\n    const containerRef = useRef<HTMLDivElement | null>(null);\n    const inputRef = useRef<HTMLInputElement | null>(null);\n\n    useImperativeHandle(ref, () => ({\n      inputRef,\n      containerRef,\n      blur: () => inputRef.current?.blur(),\n      focus: () => inputRef.current?.focus()\n    }));\n\n    useLayoutEffect(() => {\n      if (autoFocus) {\n        // Small timeout for page loading\n        requestAnimationFrame(() => inputRef.current?.focus());\n      }\n    }, [autoFocus]);\n\n    return (\n      <div\n        className={classNames(css.container, containerClassname, {\n          [css.fullWidth]: fullWidth,\n          [css.error]: error,\n          [css[size]]: size\n        })}\n        ref={containerRef}\n      >\n        {start && <div className={css.startAdornment}>{start}</div>}\n        <input\n          {...rest}\n          ref={inputRef}\n          value={value}\n          disabled={disabled}\n          className={classNames(className, css.input)}\n          onFocus={event => {\n            if (selectOnFocus) {\n              event.target.select();\n            }\n            onFocus?.(event);\n          }}\n          onChange={event => {\n            onValueChange?.(event.target.value);\n            onChange?.(event);\n          }}\n        />\n        {end && <div className={css.endAdornment}>{end}</div>}\n      </div>\n    );\n  }\n);\n\nInput.defaultProps = {\n  size: 'medium'\n};\n"],"names":["Input","forwardRef","className","containerClassname","error","fullWidth","selectOnFocus","start","end","autoFocus","disabled","value","size","onFocus","onChange","onValueChange","rest","ref","containerRef","useRef","inputRef","useImperativeHandle","_a","useLayoutEffect","jsxs","classNames","css","jsx","event"],"mappings":"qbA4DOA,EAAAC,EAAA,WAAc,CAAA,CAEjB,UAAAC,EACE,mBAAAC,EACA,MAAAC,EACA,UAAAC,EACA,cAAAC,EACA,MAAAC,EACA,IAAAC,EACA,UAAAC,EACA,SAAAC,EACA,MAAAC,EACA,KAAAC,EACA,QAAAC,EACA,SAAAC,EACA,cAAAC,EACA,GAAAC,CACG,EAAAC,IAAA,CAIL,MAAAC,EAAAC,SAAA,IAAA,EACAC,EAAAD,SAAA,IAAA,EAEAE,OAAAA,EAAA,oBAAAJ,EAAA,KAAA,CAAgC,SAAAG,EAC9B,aAAAF,EACA,KAAA,IAAA,OAAA,OAAAI,EAAAF,EAAA,UAAA,YAAAE,EAAA,QACmC,MAAA,IAAA,OAAA,OAAAA,EAAAF,EAAA,UAAA,YAAAE,EAAA,QACE,EAAA,EAGvCC,EAAAA,gBAAA,IAAA,CACEd,GAEE,sBAAA,IAAA,OAAA,OAAAa,EAAAF,EAAA,UAAA,YAAAE,EAAA,QAAA,CACF,EAAA,CAAAb,CAAA,CAAA,EAGFe,EAAA,KACE,MAAC,CAAA,UAAAC,EAAAC,EAAA,UAAAvB,EAAA,CAC0D,CAAAuB,EAAA,SAAA,EAAArB,EACtC,CAAAqB,EAAA,KAAA,EAAAtB,EACJ,CAAAsB,EAAAd,CAAA,CAAA,EAAAA,CACA,CAAA,EACd,IAAAM,EACI,SAAA,CAEJX,GAAAoB,EAAAA,IAAA,MAAA,CAAA,UAAAD,EAAA,eAAA,SAAAnB,EAAA,EAAoDoB,EAAA,IACrD,QAAC,CAAA,GAAAX,EACK,IAAAI,EACC,MAAAT,EACL,SAAAD,EACA,UAAAe,EAAAvB,EAAAwB,EAAA,KAAA,EAC0C,QAAAE,GAAA,CAExCtB,GACEsB,EAAA,OAAA,SAEFf,GAAA,MAAAA,EAAAe,EAAe,EACjB,SAAAA,GAAA,CAEEb,GAAA,MAAAA,EAAAa,EAAA,OAAA,OACAd,GAAA,MAAAA,EAAAc,EAAgB,CAClB,CAAA,EACFpB,GAAAmB,EAAAA,IAAA,MAAA,CAAA,UAAAD,EAAA,aAAA,SAAAlB,EAAA,CAC+C,CAAA,CAAA,CACjD,CAGN,EAEAR,EAAA,aAAA,CAAqB,KAAA,QAErB"}