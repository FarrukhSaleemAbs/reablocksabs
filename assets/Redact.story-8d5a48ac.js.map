{"version":3,"file":"Redact.story-8d5a48ac.js","sources":["../../node_modules/coverup/lib/index.js","../../src/data/Redact/Redact.tsx"],"sourcesContent":["'use strict';\n\nmodule.exports = function coverup(value) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  options.char = options.char || '*';\n  options.keepLeft = options.keepLeft || 0;\n  options.keepRight = options.keepRight || 0;\n  options.compactTo = options.compactTo || 0;\n  options.keepSymbols = options.keepSymbols || false;\n\n  if (!value) {\n    return value;\n  }\n\n  if (options.compactTo && options.keepSymbols) {\n    throw new Error('you cannot define both compactTo and keepSymbols');\n  }\n\n  value = String(value);\n  options.char = String(options.char);\n  options.keepLeft = Math.floor(parseInt(options.keepLeft, 10));\n  options.keepRight = Math.floor(parseInt(options.keepRight, 10));\n  options.compactTo = Math.floor(parseInt(options.compactTo, 10));\n  options.keepSymbols = Boolean(options.keepSymbols);\n\n  var regex = options.keepSymbols ? /[a-zA-Z0-9]/g : /(.)/g;\n\n  var concealed = value.replace(regex, options.char);\n\n  if (options.keepLeft > 0) {\n    concealed = value.substring(0, options.keepLeft) + concealed.substring(options.keepLeft);\n  }\n\n  if (options.keepRight > 0) {\n    concealed = concealed.slice(0, options.keepRight * -1) + value.substring(value.length - options.keepRight);\n  }\n\n  if (options.compactTo > 0) {\n    concealed = concealed.replace(new RegExp('\\\\' + options.char + '+', 'g'), Array(options.compactTo + 1).join(options.char));\n  }\n\n  return concealed;\n};","import React, { FC, useMemo, useState } from 'react';\nimport classNames from 'classnames';\nimport coverup from 'coverup';\nimport css from './Redact.module.css';\n\nexport interface RedactProps {\n  /**\n   * Classname of the element.\n   */\n  className?: string;\n\n  /**\n   * Whether you can toggle the text or not.\n   */\n  allowToggle?: boolean;\n\n  /**\n   * Number of characters to compact to.\n   */\n  compactLength?: number;\n\n  /**\n   * The character to replace the text with.\n   */\n  character?: string;\n\n  /**\n   * Text to show upon hover.\n   */\n  tooltipText?: string;\n\n  /**\n   * Value to conceal.\n   */\n  value?: string;\n}\n\nexport const Redact: FC<RedactProps> = ({\n  allowToggle,\n  compactLength,\n  tooltipText,\n  className,\n  character,\n  value\n}) => {\n  const [visible, setVisible] = useState<boolean>(false);\n  const masked = useMemo(\n    () =>\n      coverup(value, {\n        keepLeft: 1,\n        keepRight: 1,\n        compactTo: compactLength,\n        char: character\n      }) || '',\n    [value, character, compactLength]\n  );\n\n  return (\n    <span\n      title={allowToggle ? tooltipText : undefined}\n      role=\"button\"\n      className={classNames(className, { [css.btn]: allowToggle })}\n      onClick={() => allowToggle && setVisible(!visible)}\n    >\n      {visible ? value : masked}\n    </span>\n  );\n};\n\nRedact.defaultProps = {\n  allowToggle: true,\n  character: '*',\n  compactLength: 8,\n  tooltipText: 'Click to toggle sensitive content'\n};\n"],"names":["lib","value","options","regex","concealed","Redact","allowToggle","compactLength","tooltipText","className","character","visible","setVisible","useState","masked","useMemo","coverup","jsx","classNames","css"],"mappings":"qIAEA,IAAAA,EAAiB,SAAiBC,EAAO,CACvC,IAAIC,EAAU,UAAU,OAAS,GAAK,UAAU,CAAC,IAAM,OAAY,UAAU,CAAC,EAAI,CAAA,EAQlF,GANAA,EAAQ,KAAOA,EAAQ,MAAQ,IAC/BA,EAAQ,SAAWA,EAAQ,UAAY,EACvCA,EAAQ,UAAYA,EAAQ,WAAa,EACzCA,EAAQ,UAAYA,EAAQ,WAAa,EACzCA,EAAQ,YAAcA,EAAQ,aAAe,GAEzC,CAACD,EACH,OAAOA,EAGT,GAAIC,EAAQ,WAAaA,EAAQ,YAC/B,MAAM,IAAI,MAAM,kDAAkD,EAGpED,EAAQ,OAAOA,CAAK,EACpBC,EAAQ,KAAO,OAAOA,EAAQ,IAAI,EAClCA,EAAQ,SAAW,KAAK,MAAM,SAASA,EAAQ,SAAU,EAAE,CAAC,EAC5DA,EAAQ,UAAY,KAAK,MAAM,SAASA,EAAQ,UAAW,EAAE,CAAC,EAC9DA,EAAQ,UAAY,KAAK,MAAM,SAASA,EAAQ,UAAW,EAAE,CAAC,EAC9DA,EAAQ,YAAc,EAAQA,EAAQ,YAEtC,IAAIC,EAAQD,EAAQ,YAAc,eAAiB,OAE/CE,EAAYH,EAAM,QAAQE,EAAOD,EAAQ,IAAI,EAEjD,OAAIA,EAAQ,SAAW,IACrBE,EAAYH,EAAM,UAAU,EAAGC,EAAQ,QAAQ,EAAIE,EAAU,UAAUF,EAAQ,QAAQ,GAGrFA,EAAQ,UAAY,IACtBE,EAAYA,EAAU,MAAM,EAAGF,EAAQ,UAAY,EAAE,EAAID,EAAM,UAAUA,EAAM,OAASC,EAAQ,SAAS,GAGvGA,EAAQ,UAAY,IACtBE,EAAYA,EAAU,QAAQ,IAAI,OAAO,KAAOF,EAAQ,KAAO,IAAK,GAAG,EAAG,MAAMA,EAAQ,UAAY,CAAC,EAAE,KAAKA,EAAQ,IAAI,CAAC,GAGpHE,CACT,0CCNOC,EAAA,CAAA,CAAiC,YAAAC,EACtC,cAAAC,EACA,YAAAC,EACA,UAAAC,EACA,UAAAC,EACA,MAAAT,CAEF,IAAA,CACE,KAAA,CAAAU,EAAAC,CAAA,EAAAC,EAAA,SAAA,EAAA,EACAC,EAAAC,EAAA,QAAe,IAAAC,EAAAf,EAAA,CAEI,SAAA,EACH,UAAA,EACC,UAAAM,EACA,KAAAG,CACL,CAAA,GAAA,GACF,CAAAT,EAAAS,EAAAH,CAAA,CACwB,EAGlC,OAAAU,EAAA,IACE,OAAC,CAAA,MAAAX,EAAAE,EAAA,OACoC,KAAA,SAC9B,UAAAU,EAAAT,EAAA,CAAA,CAAAU,EAAA,GAAA,EAAAb,EAAA,EACsD,QAAA,IAAAA,GAAAM,EAAA,CAAAD,CAAA,EACV,SAAAA,EAAAV,EAAAa,CAE9B,CAAA,CAGzB,EAEAT,EAAA,aAAA,CAAsB,YAAA,GACP,UAAA,IACF,cAAA,EACI,YAAA,mCAEjB","x_google_ignoreList":[0]}