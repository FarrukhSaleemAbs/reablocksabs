{"version":3,"file":"Sort.story-f4920fea.js","sources":["../../src/data/Sort/DownArrowIcon.tsx","../../src/data/Sort/utils.ts","../../src/data/Sort/Sort.tsx"],"sourcesContent":["import React, { FC } from 'react';\n\ninterface DownArrowIconProps {\n  className?: string;\n}\n\nexport const DownArrowIcon: FC<DownArrowIconProps> = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    x=\"0px\"\n    y=\"0px\"\n    width=\"50\"\n    height=\"50\"\n    viewBox=\"0 0 32 32\"\n    className={className}\n  >\n    <path d=\"M 4.21875 10.78125 L 2.78125 12.21875 L 15.28125 24.71875 L 16 25.40625 L 16.71875 24.71875 L 29.21875 12.21875 L 27.78125 10.78125 L 16 22.5625 Z\"></path>\n  </svg>\n);\n","export type SortDirection = 'asc' | 'desc' | null;\n\nexport interface SortValue {\n  /**\n   * The field to sort by.\n   */\n  field: string;\n\n  /**\n   * The direction to sort by.\n   */\n  direction: SortDirection;\n}\n\n/**\n * @param direction Current sort direction\n *\n * @param defaultDirection Inital sort direction in case currently unsorted\n *\n * @param canBeNull If next direction can be null (unsorted)\n */\nexport function getNextDirection(\n  direction?: SortDirection | null,\n  defaultDirection: NonNullable<SortDirection> = 'asc',\n  canBeNull: boolean = true\n) {\n  if (!direction) {\n    return defaultDirection;\n  } else if (direction === 'asc') {\n    return 'desc';\n  } else if (direction === 'desc') {\n    return canBeNull ? null : 'asc';\n  }\n}\n","import React, { FC, PropsWithChildren, useCallback } from 'react';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport classNames from 'classnames';\nimport { DownArrowIcon } from './DownArrowIcon';\nimport { getNextDirection, SortDirection } from './utils';\nimport css from './Sort.module.css';\n\nexport interface SortProps extends PropsWithChildren {\n  /**\n   * Additional css classnames to apply\n   */\n  className?: string;\n\n  /**\n   * Additional css classnames to apply to the icon\n   */\n  iconClassName?: string;\n\n  /**\n   * Whether the sort is disabled\n   */\n  disabled?: boolean;\n\n  /**\n   * The current sort direction\n   */\n  direction?: SortDirection;\n\n  /**\n   * The callback to call when the sort is toggled\n   */\n  onSort?: (direction: SortDirection) => void;\n\n  /**\n   * The icon to display\n   */\n  icon?: React.ComponentType<{ className?: string }>;\n\n  /**\n   * The neutral icon to display.\n   */\n  neutralIcon?: React.ComponentType<{ className?: string }>;\n\n  /**\n   * Additional css classnames to apply to the neutral icon.\n   */\n  neutralIconClassName?: string;\n}\n\nexport const Sort: FC<SortProps> = ({\n  className,\n  disabled,\n  direction,\n  iconClassName,\n  icon: Icon,\n  neutralIcon: NeutralIcon,\n  neutralIconClassName,\n  children,\n  onSort\n}) => {\n  const onSortClick = useCallback(() => {\n    if (!disabled) {\n      onSort?.(getNextDirection(direction));\n    }\n  }, [disabled, direction, onSort]);\n\n  const onKeydown = useCallback(\n    (event: React.KeyboardEvent<HTMLDivElement>) => {\n      if (!disabled && (event.key === 'Enter' || event.key === 'Space')) {\n        onSort?.(getNextDirection(direction));\n      }\n    },\n    [disabled, direction, onSort]\n  );\n\n  return (\n    <div\n      className={classNames(css.button, className, {\n        [css.disabled]: disabled,\n        [css.hasValue]: direction !== undefined && direction !== null\n      })}\n      role=\"button\"\n      tabIndex={-1}\n      aria-label=\"Toggle sort direction\"\n      onClick={onSortClick}\n      onKeyDown={onKeydown}\n    >\n      {children}\n      <AnimatePresence initial={false} mode=\"wait\">\n        {direction === 'asc' && (\n          <motion.div\n            key=\"asc\"\n            initial={{ opacity: 0, y: -10 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: 10, transition: { duration: 0.05 } }}\n          >\n            <Icon\n              className={classNames(css.icon, iconClassName, css.ascIcon)}\n            />\n          </motion.div>\n        )}\n        {direction === 'desc' && (\n          <motion.div\n            key=\"desc\"\n            initial={{ opacity: 0, y: -10 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: 10, transition: { duration: 0.05 } }}\n          >\n            <Icon\n              className={classNames(css.icon, iconClassName, css.descIcon)}\n            />\n          </motion.div>\n        )}\n        {!!NeutralIcon && !direction && (\n          <motion.div\n            key=\"neutral\"\n            initial={{ opacity: 0, y: -10 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: 10, transition: { duration: 0.05 } }}\n          >\n            <NeutralIcon\n              className={classNames(css.icon, neutralIconClassName)}\n            />\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n};\n\nSort.defaultProps = {\n  icon: DownArrowIcon\n};\n"],"names":["DownArrowIcon","className","jsx","getNextDirection","direction","defaultDirection","canBeNull","Sort","disabled","iconClassName","Icon","NeutralIcon","neutralIconClassName","children","onSort","onSortClick","useCallback","onKeydown","event","jsxs","classNames","css","AnimatePresence","motion"],"mappings":"+MAMO,MAAAA,EAAA,CAAA,CAAA,UAAAC,CAAA,IAAAC,EAAA,IACL,MAAC,CAAA,MAAA,6BACO,EAAA,MACJ,EAAA,MACA,MAAA,KACI,OAAA,KACC,QAAA,YACC,UAAAD,EACR,SAAAC,EAAAA,IAAA,OAAA,CAAA,EAAA,oJAAA,CAAA,CAE6J,CAC/J,8MCIK,SAASC,EACdC,EACAC,EAA+C,MAC/CC,EAAqB,GACrB,CACA,GAAKF,EAEL,IAAWA,IAAc,MAChB,MAAA,OACT,GAAWA,IAAc,OACvB,OAAOE,EAAY,KAAO,UAJnB,QAAAD,CAMX,qKCgBOE,EAAA,CAAA,CAA6B,UAAAN,EAClC,SAAAO,EACA,UAAAJ,EACA,cAAAK,EACA,KAAAC,EACM,YAAAC,EACO,qBAAAC,EACb,SAAAC,EACA,OAAAC,CAEF,IAAA,CACE,MAAAC,EAAAC,EAAAA,YAAA,IAAA,CACER,GACEM,GAAA,MAAAA,EAAAX,EAAAC,CAAA,EACF,EAAA,CAAAI,EAAAJ,EAAAU,CAAA,CAAA,EAGFG,EAAAD,EAAA,YAAkBE,GAAA,CAEd,CAAAV,IAAAU,EAAA,MAAA,SAAAA,EAAA,MAAA,WACEJ,GAAA,MAAAA,EAAAX,EAAAC,CAAA,GACF,EACF,CAAAI,EAAAJ,EAAAU,CAAA,CAC4B,EAG9B,OAAAK,EAAA,KACE,MAAC,CAAA,UAAAC,EAAAC,EAAA,OAAApB,EAAA,CAC8C,CAAAoB,EAAA,QAAA,EAAAb,EAC3B,CAAAa,EAAA,QAAA,EAAAjB,GAAA,IACyC,CAAA,EAC1D,KAAA,SACI,SAAA,GACK,aAAA,wBACC,QAAAW,EACF,UAAAE,EACE,SAAA,CAEVJ,EAAAM,EAAA,KAAAG,EAAA,CAAA,QAAA,GAAA,KAAA,OAAA,SAAA,CAEElB,IAAA,OAAAF,EAAA,IACCqB,EAAA,IAAQ,CAAP,QAAA,CAAA,QAAA,EAAA,EAAA,GAAA,EAE+B,QAAA,CAAA,QAAA,EAAA,EAAA,CAAA,EACF,KAAA,CAAA,QAAA,EAAA,EAAA,GAAA,WAAA,CAAA,SAAA,IAAA,EAC8B,SAAArB,EAAA,IAE1DQ,EAAC,CAAA,UAAAU,EAAAC,EAAA,KAAAZ,EAAAY,EAAA,OAAA,CAC2D,CAAA,CAC5D,EAAA,KAPI,EAQNjB,IAAA,QAAAF,EAAA,IAGAqB,EAAA,IAAQ,CAAP,QAAA,CAAA,QAAA,EAAA,EAAA,GAAA,EAE+B,QAAA,CAAA,QAAA,EAAA,EAAA,CAAA,EACF,KAAA,CAAA,QAAA,EAAA,EAAA,GAAA,WAAA,CAAA,SAAA,IAAA,EAC8B,SAAArB,EAAA,IAE1DQ,EAAC,CAAA,UAAAU,EAAAC,EAAA,KAAAZ,EAAAY,EAAA,QAAA,CAC4D,CAAA,CAC7D,EAAA,MAPI,EAQN,CAAA,CAAAV,GAAA,CAAAP,GAAAF,EAAA,IAGAqB,EAAA,IAAQ,CAAP,QAAA,CAAA,QAAA,EAAA,EAAA,GAAA,EAE+B,QAAA,CAAA,QAAA,EAAA,EAAA,CAAA,EACF,KAAA,CAAA,QAAA,EAAA,EAAA,GAAA,WAAA,CAAA,SAAA,IAAA,EAC8B,SAAArB,EAAA,IAE1DS,EAAC,CAAA,UAAAS,EAAAC,EAAA,KAAAT,CAAA,CACqD,CAAA,CACtD,EAAA,SAPI,CAQN,EAAA,CAEJ,CAAA,CAAA,CAGN,EAEAL,EAAA,aAAA,CAAoB,KAAAP,CAEpB;;;;;;;;;;;;;;;;;;;;;;;;;;;"}