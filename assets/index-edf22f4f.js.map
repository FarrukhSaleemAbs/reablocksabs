{"version":3,"file":"index-edf22f4f.js","sources":["../../node_modules/ellipsize/src/index.js"],"sourcesContent":["\"use strict\";\n\nvar defaults = {\n    ellipse: \"…\",\n    chars: [\" \", \"-\"],\n    max: 140,\n    truncate: true,\n};\n\n/**\n * \"mac-style\" or \"harmonica\" ellipsize.\n * Ellipsizes a string in the middle instead of the end.\n *\n * Examples:\n *\n *      These are a few of my favourite things\n *      These are … my faourite things\n *      These are … faourite things\n *      hese … things\n *\n * @param {string} str\n * @param {Number} max\n * @param {string} ellipse\n * @param {string[]} chars\n * @returns {string} ellipsized\n */\n\nfunction ellipsizeMiddle(str, max, ellipse, chars) {\n    if (str <= max) return str;\n    if (max < 2) return str.slice(0, max - ellipse.length) + ellipse;\n\n    var maxLen = max - ellipse.length;\n    var middle = Math.floor(maxLen / 2);\n\n    var left = middle;\n    var right = str.length - middle;\n\n    for (var i = 0; i < middle; i++) {\n        var charLeft = str.charAt(i);\n        var posRight = str.length - i;\n\n        var charRight = str.charAt(posRight);\n\n        if (chars.indexOf(charLeft) !== -1) left = i;\n        if (chars.indexOf(charRight) !== -1) right = posRight;\n    }\n\n    return str.slice(0, left) + ellipse + str.slice(right);\n}\n\n/**\n *\n * @param {string} str\n * @param {number} max\n * @param {string} ellipse\n * @param {string[]} chars\n * @param {boolean} truncate\n * @returns\n */\nfunction ellipsize(str, max, ellipse, chars, truncate) {\n    if (str.length <= max) return str;\n\n    var maxLen = max - ellipse.length;\n    var end = maxLen;\n\n    for (var i = 0; i <= maxLen; i++) {\n        var char = str.charAt(i);\n        if (chars.indexOf(char) !== -1) end = i;\n    }\n\n    // no breakpoint found, but truncate\n    // was not allowed.\n    if (!truncate && end == maxLen) return \"\";\n\n    return str.slice(0, end) + ellipse;\n}\n\n/**\n * Ellipsize a string. Produces a string that is max lenght,\n * including the ellipse character.\n *\n * @param {string} str - String to ellipsize\n * @param {number} max - Max length including ellipsis\n * @param {Record<string, any>} [opts] - See additional options\n * @returns {string} ellipsized string\n */\nmodule.exports = function (str, max, opts) {\n    if (typeof str !== \"string\" || str.length === 0) return \"\";\n    if (max === 0) return \"\";\n\n    opts = opts || {};\n\n    for (var key in defaults) {\n        if (opts[key] === null || typeof opts[key] === \"undefined\") {\n            opts[key] = defaults[key];\n        }\n    }\n\n    opts.max = max || opts.max;\n\n    if (opts.truncate == \"middle\")\n        return ellipsizeMiddle(str, opts.max, opts.ellipse, opts.chars);\n\n    return ellipsize(str, opts.max, opts.ellipse, opts.chars, opts.truncate);\n};\n\nmodule.exports.ellipsizeMiddle = ellipsizeMiddle;\nmodule.exports.ellipsize = ellipsize;\n"],"names":["defaults","ellipsizeMiddle","str","max","ellipse","chars","maxLen","middle","left","right","i","charLeft","posRight","charRight","ellipsize","truncate","end","char","srcModule","opts","key"],"mappings":"2DAEIA,EAAW,CACX,QAAS,IACT,MAAO,CAAC,IAAK,GAAG,EAChB,IAAK,IACL,SAAU,EACd,EAoBA,SAASC,EAAgBC,EAAKC,EAAKC,EAASC,EAAO,CAC/C,GAAIH,GAAOC,EAAK,OAAOD,EACvB,GAAIC,EAAM,EAAG,OAAOD,EAAI,MAAM,EAAGC,EAAMC,EAAQ,MAAM,EAAIA,EAQzD,QANIE,EAASH,EAAMC,EAAQ,OACvBG,EAAS,KAAK,MAAMD,EAAS,CAAC,EAE9BE,EAAOD,EACPE,EAAQP,EAAI,OAASK,EAEhBG,EAAI,EAAGA,EAAIH,EAAQG,IAAK,CAC7B,IAAIC,EAAWT,EAAI,OAAOQ,CAAC,EACvBE,EAAWV,EAAI,OAASQ,EAExBG,EAAYX,EAAI,OAAOU,CAAQ,EAE/BP,EAAM,QAAQM,CAAQ,IAAM,KAAIH,EAAOE,GACvCL,EAAM,QAAQQ,CAAS,IAAM,KAAIJ,EAAQG,EAChD,CAED,OAAOV,EAAI,MAAM,EAAGM,CAAI,EAAIJ,EAAUF,EAAI,MAAMO,CAAK,CACzD,CAWA,SAASK,EAAUZ,EAAKC,EAAKC,EAASC,EAAOU,EAAU,CACnD,GAAIb,EAAI,QAAUC,EAAK,OAAOD,EAK9B,QAHII,EAASH,EAAMC,EAAQ,OACvBY,EAAMV,EAEDI,EAAI,EAAGA,GAAKJ,EAAQI,IAAK,CAC9B,IAAIO,EAAOf,EAAI,OAAOQ,CAAC,EACnBL,EAAM,QAAQY,CAAI,IAAM,KAAID,EAAMN,EACzC,CAID,MAAI,CAACK,GAAYC,GAAOV,EAAe,GAEhCJ,EAAI,MAAM,EAAGc,CAAG,EAAIZ,CAC/B,CAWAc,EAAA,QAAiB,SAAUhB,EAAKC,EAAKgB,EAAM,CAEvC,GADI,OAAOjB,GAAQ,UAAYA,EAAI,SAAW,GAC1CC,IAAQ,EAAG,MAAO,GAEtBgB,EAAOA,GAAQ,GAEf,QAASC,KAAOpB,GACRmB,EAAKC,CAAG,IAAM,MAAQ,OAAOD,EAAKC,CAAG,EAAM,OAC3CD,EAAKC,CAAG,EAAIpB,EAASoB,CAAG,GAMhC,OAFAD,EAAK,IAAMhB,GAAOgB,EAAK,IAEnBA,EAAK,UAAY,SACVlB,EAAgBC,EAAKiB,EAAK,IAAKA,EAAK,QAASA,EAAK,KAAK,EAE3DL,EAAUZ,EAAKiB,EAAK,IAAKA,EAAK,QAASA,EAAK,MAAOA,EAAK,QAAQ,CAC3E,EAE8BD,EAAA,QAAA,gBAAGjB,EACjCiB,EAAA,QAAA,UAA2BJ","x_google_ignoreList":[0]}